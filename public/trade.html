<!doctype html><meta charset="utf-8" />
<title>Trade</title>
<h1>Trade</h1>
<form id="f">
  <label>Symbol (e.g., BITCOIN): <input name="symbol" required></label><br>
  <label>Side:
    <select name="side">
      <option>BUY</option>
      <option>SELL</option>
    </select>
  </label><br>
  <label>Quantity: <input name="quantity" type="number" step="0.00000001" min="0.00000001" required></label><br>
  <button>Submit</button>
</form>
<pre id="out"></pre>
<script>
document.getElementById("f").addEventListener("submit", async (e)=>{
  e.preventDefault();
  const form = e.target;
  const body = {
    symbol: form.symbol.value,
    side: form.side.value,
    quantity: form.quantity.value
  };
  const r = await fetch("/api/trade", {
    method: "POST",
    headers: { "Content-Type":"application/json" },
    body: JSON.stringify(body)
  });
  const j = await r.json();
  out.textContent = JSON.stringify(j, null, 2);
});
</script>
